{
  "experiment": {
    "name": "phi2_8k_finetuned_needle_haystack",
    "description": "Fine-tuned Phi-2 with LoRA adapters evaluated on needle-in-haystack",
    "seed": 42,
    "date": "2025-11-06"
  },
  "model": {
    "type": "Phi2FinetunedModel",
    "base_path": "microsoft/phi-2",
    "adapter_path": "checkpoints/phi2_yarn_g5/final_model"
  },
  "strategy": {
    "type": "LinearPIStrategy",
    "original_length": 2048,
    "target_length": 8192,
    "rope_scaling": {
      "type": "dynamic",
      "factor": 8
    },
    "window_size": 8192
  },
  "results": {
    "NeedleHaystackEvaluator": {
      "overall_accuracy": 0.5454545454545454,
      "total_tests": 33,
      "successes": 18,
      "by_context_length": {
        "2048": 1.0,
        "4096": 0.6363636363636364,
        "8192": 0.0
      },
      "by_depth": {
        "0.0": 0.6666666666666666,
        "0.1": 0.6666666666666666,
        "0.2": 0.6666666666666666,
        "0.3": 0.3333333333333333,
        "0.4": 0.3333333333333333,
        "0.5": 0.3333333333333333,
        "0.6": 0.6666666666666666,
        "0.7": 0.3333333333333333,
        "0.8": 0.6666666666666666,
        "0.9": 0.6666666666666666,
        "1.0": 0.6666666666666666
      },
      "details": [
        {
          "context_length": 2048,
          "depth": 0.0,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat hard liquor, cigarettes, heroin, crack, and crack have in common is that they're all more concentrated forms of something we like that are all more concentrated forms of"
        },
        {
          "context_length": 2048,
          "depth": 0.1,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhy is it important to avoid addictive things?\nAnswer: Because as the world becomes more addictive, the two senses in which one can live a normal life will be driven"
        },
        {
          "context_length": 2048,
          "depth": 0.2,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat is the definition of \"addictive\"?\nAnswer: Something we want more of than we want to want.\n\nWhat is the consequence of technological progress accelerating?"
        },
        {
          "context_length": 2048,
          "depth": 0.3,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat does it mean when something is addictive?\nAnswer: It means it becomes too much of a good thing.\n\nWhy is it important to know whether a startup"
        },
        {
          "context_length": 2048,
          "depth": 0.4,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat is the best thing to do in San Francisco?\nAnswer: Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat is the best"
        },
        {
          "context_length": 2048,
          "depth": 0.5,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhy is the Internet addicting?\nAnswer: The Internet becomes addictive while you are using it.\n\nWhat is Trevor Blackwell's calculator used for?\nAnswer:"
        },
        {
          "context_length": 2048,
          "depth": 0.6,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat is the best thing to do in San Francisco?\nAnswer: Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat is the best"
        },
        {
          "context_length": 2048,
          "depth": 0.7,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nHow does the author describe the impact of technology on society?\nAnswer: The author describes technology as accelerating the process of transforming things we like into things we like too much"
        },
        {
          "context_length": 2048,
          "depth": 0.8,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhy do so few founders know whether they're default alive or default dead?\nAnswer: Mainly, I think, because they're not used to asking that.\n"
        },
        {
          "context_length": 2048,
          "depth": 0.9,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhy do so few founders know whether they're default alive or default dead?\nAnswer: Mainly, I think, because they're not used to asking that.\n"
        },
        {
          "context_length": 2048,
          "depth": 1.0,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nWhat do you do if you want to save a struggling startup?\nAnswer: Talk about how to get off the bad trajectory.\n\nWhy do so few founders know"
        },
        {
          "context_length": 4096,
          "depth": 0.0,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.July 2010What hard liquor, cigarettes, heroin, and crack have in common is that they're all more concentrated forms of less addictive predecessors.\nMost if not all the things we"
        },
        {
          "context_length": 4096,
          "depth": 0.1,
          "success": true,
          "answer": " don't eat a sandwich and sit in Dolores Park on a sunny day.\nWhy? Because I think the world will get more addictive in the next 40 years than it did in the last 40.\n\nNovember 2009The first thing to know"
        },
        {
          "context_length": 4096,
          "depth": 0.2,
          "success": true,
          "answer": "\nDon't buy a sandwich, sit in Dolores Park, and think.  That's the\nbest way to spend your time.\nI've been thinking about this for a while now, and I've\ncome up with a simple rule"
        },
        {
          "context_length": 4096,
          "depth": 0.3,
          "success": false,
          "answer": " live in a tent.\nIt's a good time to be a tent-dweller.  There's a lot of good, cheap\ntent cities in San Francisco.  If you're a programmer, you can\nget a good"
        },
        {
          "context_length": 4096,
          "depth": 0.4,
          "success": false,
          "answer": " don't try to avoid the Internet.  Try to make it work for you.\nWhy?  Because the Internet is here to stay.  It's\nnot going away.  The Internet is a giant problem-solving\nmechan"
        },
        {
          "context_length": 4096,
          "depth": 0.5,
          "success": false,
          "answer": " don't do anything\n(I'm not even sure what \"best\" means, but that's the best thing to do).\nIf you're a startup, the best thing to do is to avoid the\napp store.  If you're"
        },
        {
          "context_length": 4096,
          "depth": 0.6,
          "success": true,
          "answer": "\n\n1) Go to Dolores Park and eat a sandwich.\n2) Read the book \"The Mythical Man-Month\" by Fred Brooks.\n3) Understand that software is different from music and books.\n4) Be a"
        },
        {
          "context_length": 4096,
          "depth": 0.7,
          "success": false,
          "answer": "\nI'm not sure.  But I think I know what the worst thing to do is:\nbe a startup.\nI'm not just saying this because I've been through the\nprocess.  I'm saying it because I've been"
        },
        {
          "context_length": 4096,
          "depth": 0.8,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\n\nApril 2010The following is a note to a friend who has been involved in\nthe startup world for a long time.  It's about\nthe problems with the \""
        },
        {
          "context_length": 4096,
          "depth": 0.9,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\n\nSeptember 2010\n\nIt's the start of another year, so I'm going to give a forecast for the year.\n\nFirst, a forecast for the next three"
        },
        {
          "context_length": 4096,
          "depth": 1.0,
          "success": true,
          "answer": " Eat a sandwich and sit in Dolores Park on a sunny day.\nI don't think Apple has learned this lesson.  I think they're trying\nto apply it to software, with disastrous results.  The thing is,\nsoftware is"
        },
        {
          "context_length": 8192,
          "depth": 0.0,
          "success": false,
          "answer": " hire people, and raise money.  In fact, hiring people is a good idea.  I\ndon't think it was a great idea.  But there was only one other thing: we\nneeded to raise money.  But how do"
        },
        {
          "context_length": 8192,
          "depth": 0.1,
          "success": false,
          "answer": " hire people.  You need to hire.  But hiring people\nis an expensive proposition.  You have to have a product that's good enough to\njust get people interested in.  But we thought it would be a good idea\nto"
        },
        {
          "context_length": 8192,
          "depth": 0.2,
          "success": false,
          "answer": " hire a bunch of people.  We wanted to build a company that was\nas fast as possible.  But we couldn't find anyone.  I was an engineer, so I\nwas willing to do much of the hiring.  But it"
        },
        {
          "context_length": 8192,
          "depth": 0.3,
          "success": false,
          "answer": " go to a big company.  The best thing you can do\nis to go to a big company.  That way you can learn from people who know\nabout business.  We'd been to a few startup events, but we knew that"
        },
        {
          "context_length": 8192,
          "depth": 0.4,
          "success": false,
          "answer": " hire a programmer.  But it's the wrong thing to do.  The\nonly reason to hire programmers is to do something\nthat requires a lot of programmers.  If you're going to do that,\nyou'll find a lot of"
        },
        {
          "context_length": 8192,
          "depth": 0.5,
          "success": false,
          "answer": " use Lisp.  This was the most useful thing we could\ndo, in my view.  We were very happy with that decision.  But we didn't\nknow that, either.  We didn't know what we didn't know."
        },
        {
          "context_length": 8192,
          "depth": 0.6,
          "success": false,
          "answer": " hire people.  But if you don't know how to hire, you have to learn\nhow to do that.  How do you know how to hire?\nI'd read a lot of books on hiring.  But I was convinced that"
        },
        {
          "context_length": 8192,
          "depth": 0.7,
          "success": false,
          "answer": " hire people and market.  But it took a long time to hire.  In fact, we\nwere hiring people who couldn't code.  We thought we could hire\nsomeone who knew programming, and then teach them.  We had no"
        },
        {
          "context_length": 8192,
          "depth": 0.8,
          "success": false,
          "answer": " start a startup.  We thought it would be easy.  I was wrong.  We thought\nwe'd be able to hire good engineers.  But that turned out to be harder than we\nexpected.  We thought it would be easy"
        },
        {
          "context_length": 8192,
          "depth": 0.9,
          "success": false,
          "answer": " don't try to do everything the average startup does.  Instead,\ndo what the average startup doesn't do.  You don't have to do\nthe average startup.  You should write software that works.  You should\ndo something"
        },
        {
          "context_length": 8192,
          "depth": 1.0,
          "success": false,
          "answer": " write a Lisp application.  We could have hired programmers.  We\nthought that would be the best thing to do, but we knew we'd\nprobably be overhired, and that's when we had to worry about\nthe fatal pinch"
        }
      ]
    }
  },
  "timestamp": "20251107_020946"
}